<!-- Dialog di Successo -->
<dialog id="order_success_modal" class="modal modal-bottom sm:modal-middle">
    <div class="modal-box bg-success text-success-content">
        <div class="text-center">
            <!-- Icona di successo -->
            <div
                class="mx-auto mb-4 w-16 h-16 bg-success-content bg-opacity-20 rounded-full flex items-center justify-center">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>

            <h3 class="font-bold text-2xl mb-4">Ordine Confermato!</h3>

            <div class="py-4 space-y-2">
                <p class="text-lg">Il tuo ordine è stato ricevuto con successo.</p>
                <p class="text-sm opacity-80">Riceverai una conferma via email a breve.</p>
            </div>

            <!-- Sommario ordine -->
            <div class="bg-success-content bg-opacity-10 rounded-lg p-4 mt-4 mb-6">
                <h4 class="font-semibold mb-2">Riepilogo ordine:</h4>
                <div class="text-sm space-y-1">
                    <div class="flex justify-between">
                        <span>Prodotti ({{totalItems()}})</span>
                        <span>€ {{subtotal() | number:'1.2-2'}}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Spedizione</span>
                        <span>€ 10.00</span>
                    </div>
                    <div class="border-t border-success-content border-opacity-20 pt-1 mt-2">
                        <div class="flex justify-between font-semibold">
                            <span>Totale</span>
                            <span>€ {{totalCost() | number:'1.2-2'}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-sm opacity-80 mb-4">
                Verrai reindirizzato alla pagina principale tra pochi secondi...
            </div>

            <!-- Spinner di caricamento -->
            <div class="flex justify-center">
                <span class="loading loading-spinner loading-sm"></span>
            </div>
        </div>
    </div>

    <!-- Backdrop per chiudere il modal -->
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>

<!-- Dialog di Errore -->
<dialog id="order_error_modal" class="modal modal-bottom sm:modal-middle">
    <div class="modal-box bg-error text-error-content">
        <div class="text-center">
            <!-- Icona di errore -->
            <div
                class="mx-auto mb-4 w-16 h-16 bg-error-content bg-opacity-20 rounded-full flex items-center justify-center">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </div>

            <h3 class="font-bold text-2xl mb-4">Errore nell'ordine</h3>

            <div class="py-4 space-y-2">
                <p class="text-lg">Si è verificato un problema durante l'invio dell'ordine.</p>
                <p class="text-sm opacity-80">Riprova più tardi o contatta l'assistenza.</p>
            </div>

            <div class="modal-action justify-center">
                <form method="dialog">
                    <button class="btn btn-error-content">Chiudi</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Backdrop per chiudere il modal -->
    <form method="dialog" class="modal-backdrop">
        <button>close</button>
    </form>
</dialog>